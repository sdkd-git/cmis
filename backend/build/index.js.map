{"version":3,"sources":["../src/index.js"],"names":["path","require","app","use","bodyParser","json","port","process","env","PORT","set","express","static","__dirname","models","sequelize","sync","then","console","log","passport","initialize","get","req","res","send","server","listen","host","address"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;;AAEA,IAAMC,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;;AAEA,IAAIC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;;AAEA;AACAP,IAAIQ,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;;AAEA;;AAEAR,IAAIC,GAAJ,CAAQQ,kBAAQC,MAAR,CAAeC,YAAY,SAA3B,CAAR;;AAEA;AACA;;AAEAX,IAAIC,GAAJ,CAAQ,qBAAR;;AAEA;AACA;AACAW,iBAAOC,SAAP,CAAiBC,IAAjB,GAAwBC,IAAxB,CAA6B,YAAM;AACjCC,UAAQC,GAAR,CAAY,oCAAZ;AACD,CAFD;;AAIA;AACAjB,IAAIC,GAAJ,CAAQiB,mBAASC,UAAT,EAAR;;AAEA;AACApB,QAAQ,mBAAR,EAA6BmB,kBAA7B;;AAEA;AACAlB,IAAIoB,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIC,IAAJ,CAAS,gBAAT,CAAd;AAAA,CAAb;;AAEAxB,QAAQ,kBAAR,EAA4BC,GAA5B;AACAD,QAAQ,0BAAR,EAAoCC,GAApC;AACAD,QAAQ,uBAAR,EAAiCC,GAAjC;AACAD,QAAQ,sBAAR,EAAgCC,GAAhC;AACAD,QAAQ,6BAAR,EAAuCC,GAAvC;AACAD,QAAQ,yBAAR,EAAmCC,GAAnC;;AAEA;AACA,IAAIwB,SAASxB,IAAIyB,MAAJ,CAAWrB,IAAX,EAAiB,YAAW;AACvC,MAAIsB,OAAOF,OAAOG,OAAP,GAAiBA,OAA5B;AACA,MAAIvB,OAAOoB,OAAOG,OAAP,GAAiBvB,IAA5B;;AAEAY,UAAQC,GAAR,CAAY,+BAAZ,EAA6CS,IAA7C,EAAmDtB,IAAnD;AACD,CALY,CAAb","file":"index.js","sourcesContent":["import express from 'express';\r\nimport passport from 'passport';\r\nimport bodyParser from 'body-parser';\r\nimport cors from 'cors';\r\nimport models from './models'\r\nconst path = require('path');\r\n\r\nconst app = express();\r\n\r\napp.use(bodyParser.json());\r\n\r\nlet port = process.env.PORT || 8080;\r\n\r\n// set the view engine to ejs\r\napp.set('view engine', 'ejs');\r\n\r\n// make express look in the public directory for assets (css/js/img)\r\n \r\napp.use(express.static(__dirname + '/public'));\r\n\r\n// const directory = path.join(__dirname, 'uploads');\r\n// app.use('uploads', express.static(directory));\r\n\r\napp.use(cors());\r\n\r\n// force: true will drop the table if it already exits\r\n// models.sequelize.sync({ force: true }).then(() => {\r\nmodels.sequelize.sync().then(() => {\r\n  console.log('Drop and Resync with {force: true}');\r\n});\r\n\r\n// passport middleware\r\napp.use(passport.initialize());\r\n\r\n// passport config\r\nrequire('./config/passport')(passport);\r\n\r\n//default route\r\napp.get('/', (req, res) => res.send('Hello my World'));\r\n\r\nrequire('./routes/user.js')(app);\r\nrequire('./routes/professional.js')(app);\r\nrequire('./routes/getmaster.js')(app);\r\nrequire('./routes/criminal.js')(app);\r\nrequire('./routes/criminaldeletes.js')(app);\r\nrequire('./routes/imageupload.js')(app);\r\n\r\n//create a server\r\nvar server = app.listen(port, function() {\r\n  var host = server.address().address;\r\n  var port = server.address().port;\r\n\r\n  console.log('App listening at http://%s:%s', host, port);\r\n});\r\n"]}