{"version":3,"sources":["../../src/services/routesHelper.js"],"names":["allowOnly","accessLevel","callback","checkUserRole","req","res","role","user","dataValues","status","json","msg"],"mappings":";;;;;AAAA,IAAMA,YAAY,SAAZA,SAAY,CAASC,WAAT,EAAsBC,QAAtB,EAAgC;AAC9C,aAASC,aAAT,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B;AAD+B,YAErBC,IAFqB,GAEZF,IAAIG,IAAJ,CAAS,CAAT,EAAYC,UAFA,CAErBF,IAFqB;AAGjC;AACI;AACJ;;AACI,YAAG,EAAEL,eAAeK,IAAjB,CAAH,EAA2B;AACvBD,gBAAII,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,KAAK,gCAAP,EAArB;AACA;AACH;;AAEDT,iBAASE,GAAT,EAAcC,GAAd;AACH;;AAED,WAAOF,aAAP;AACH,CAhBD;;QAkBSH,S,GAAAA,S","file":"routesHelper.js","sourcesContent":["const allowOnly = function(accessLevel, callback) {\r\n    function checkUserRole(req, res) {\r\n      // console.log(req.user)\r\n        const { role } = req.user[0].dataValues;\r\n    //    console.log(accessLevel)\r\n        // console.log(role)\r\n    //    console.log((accessLevel && role));\r\n        if(!(accessLevel && role)) {\r\n            res.status(403).json({ msg: 'You do not have access to this'})\r\n            return;\r\n        }\r\n\r\n        callback(req, res)\r\n    }\r\n\r\n    return checkUserRole;\r\n}\r\n\r\nexport { allowOnly }"]}